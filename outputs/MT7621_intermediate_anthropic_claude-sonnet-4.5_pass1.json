{
  "modules": [
    {
      "id": "m1",
      "name": "MIPS 1004Kc",
      "type": "processor",
      "position": {
        "x": 70,
        "y": 90
      },
      "parameters": {
        "cache_config": "32/32 KB I/D-Cache per Core",
        "frequency": "880 MHz"
      },
      "description": "MIPS 1004Kc processor with OCP_IF interface"
    },
    {
      "id": "m2",
      "name": "OCP Bridge",
      "type": "bridge",
      "position": {
        "x": 235,
        "y": 105
      },
      "parameters": {},
      "description": "OCP interface bridge connecting processor to DRAM controller"
    },
    {
      "id": "m3",
      "name": "DRAM Controller",
      "type": "memory_controller",
      "position": {
        "x": 383,
        "y": 60
      },
      "parameters": {
        "memory_type": "16-Bit DDR2/DDR3"
      },
      "description": "DRAM controller for 16-bit DDR2/DDR3 memory"
    },
    {
      "id": "m4",
      "name": "Arbiter",
      "type": "arbiter",
      "position": {
        "x": 383,
        "y": 115
      },
      "parameters": {},
      "description": "Bus arbiter for managing access to RBUS"
    },
    {
      "id": "m5",
      "name": "SDXC",
      "type": "peripheral",
      "position": {
        "x": 42,
        "y": 265
      },
      "parameters": {},
      "description": "SD/SDXC controller"
    },
    {
      "id": "m6",
      "name": "USB 3.0/2.0 PHY",
      "type": "peripheral",
      "position": {
        "x": 153,
        "y": 265
      },
      "parameters": {},
      "description": "USB 3.0/2.0 PHY interface"
    },
    {
      "id": "m7",
      "name": "PCIe 1.1 PHY",
      "type": "peripheral",
      "position": {
        "x": 280,
        "y": 265
      },
      "parameters": {
        "lanes": "3"
      },
      "description": "PCIe 1.1 PHY with 3 lanes"
    },
    {
      "id": "m8",
      "name": "Crypto Engine",
      "type": "peripheral",
      "position": {
        "x": 405,
        "y": 265
      },
      "parameters": {},
      "description": "Cryptographic engine"
    },
    {
      "id": "m9",
      "name": "Switch (5GE)",
      "type": "peripheral",
      "position": {
        "x": 533,
        "y": 265
      },
      "parameters": {
        "ports": "5-Port EPHY",
        "interface": "RJ45 x5"
      },
      "description": "5-port Gigabit Ethernet switch with 5-port EPHY"
    },
    {
      "id": "m10",
      "name": "GDMA/HSDMA",
      "type": "peripheral",
      "position": {
        "x": 635,
        "y": 265
      },
      "parameters": {},
      "description": "General DMA/High-Speed DMA controller"
    },
    {
      "id": "m11",
      "name": "INTC",
      "type": "peripheral",
      "position": {
        "x": 787,
        "y": 22
      },
      "parameters": {},
      "description": "Interrupt controller"
    },
    {
      "id": "m12",
      "name": "Timer",
      "type": "peripheral",
      "position": {
        "x": 787,
        "y": 55
      },
      "parameters": {},
      "description": "Timer module"
    },
    {
      "id": "m13",
      "name": "SPI",
      "type": "peripheral",
      "position": {
        "x": 787,
        "y": 88
      },
      "parameters": {},
      "description": "SPI interface"
    },
    {
      "id": "m14",
      "name": "NFI",
      "type": "peripheral",
      "position": {
        "x": 787,
        "y": 121
      },
      "parameters": {},
      "description": "NAND Flash Interface"
    },
    {
      "id": "m15",
      "name": "UARTLx3",
      "type": "peripheral",
      "position": {
        "x": 787,
        "y": 154
      },
      "parameters": {
        "instances": "3"
      },
      "description": "UART Lite x3 instances"
    },
    {
      "id": "m16",
      "name": "GPIO",
      "type": "peripheral",
      "position": {
        "x": 787,
        "y": 177
      },
      "parameters": {},
      "description": "GPIO/LED controller"
    },
    {
      "id": "m17",
      "name": "I2C",
      "type": "peripheral",
      "position": {
        "x": 787,
        "y": 220
      },
      "parameters": {},
      "description": "I2C interface"
    },
    {
      "id": "m18",
      "name": "I2S",
      "type": "peripheral",
      "position": {
        "x": 787,
        "y": 253
      },
      "parameters": {},
      "description": "I2S audio interface"
    },
    {
      "id": "m19",
      "name": "PCM x4",
      "type": "peripheral",
      "position": {
        "x": 787,
        "y": 286
      },
      "parameters": {
        "instances": "4"
      },
      "description": "PCM interface x4 instances"
    },
    {
      "id": "m20",
      "name": "SPDIF",
      "type": "peripheral",
      "position": {
        "x": 787,
        "y": 315
      },
      "parameters": {},
      "description": "SPDIF audio interface"
    },
    {
      "id": "bus1",
      "name": "RBUS",
      "type": "bus",
      "position": {
        "x": 340,
        "y": 182
      },
      "parameters": {},
      "description": "Main system bus (RBUS)"
    },
    {
      "id": "bus2",
      "name": "PBUS",
      "type": "bus",
      "position": {
        "x": 340,
        "y": 222
      },
      "parameters": {},
      "description": "Peripheral bus (PBUS)"
    }
  ],
  "connections": [
    {
      "id": "c1",
      "from_module": "m1",
      "from_port": "OCP_IF",
      "to_module": "m2",
      "to_port": "input",
      "signal_name": "OCP_IF",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": [
        "OCP_IF"
      ]
    },
    {
      "id": "c2",
      "from_module": "m2",
      "from_port": "output",
      "to_module": "m4",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": true,
      "direction": "left_to_right",
      "annotations": []
    },
    {
      "id": "c3",
      "from_module": "m3",
      "from_port": "output",
      "to_module": "m4",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": true,
      "direction": "top_to_bottom",
      "annotations": []
    },
    {
      "id": "c4",
      "from_module": "m4",
      "from_port": "output",
      "to_module": "bus1",
      "to_port": "input",
      "signal_name": "RBUS",
      "width": "",
      "is_bus": true,
      "direction": "top_to_bottom",
      "annotations": [
        "RBUS"
      ]
    },
    {
      "id": "c5",
      "from_module": "bus1",
      "from_port": "output",
      "to_module": "m5",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": true,
      "direction": "top_to_bottom",
      "annotations": []
    },
    {
      "id": "c6",
      "from_module": "bus1",
      "from_port": "output",
      "to_module": "m6",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": true,
      "direction": "top_to_bottom",
      "annotations": []
    },
    {
      "id": "c7",
      "from_module": "bus1",
      "from_port": "output",
      "to_module": "m7",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": true,
      "direction": "top_to_bottom",
      "annotations": []
    },
    {
      "id": "c8",
      "from_module": "bus1",
      "from_port": "output",
      "to_module": "bus2",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": true,
      "direction": "top_to_bottom",
      "annotations": []
    },
    {
      "id": "c9",
      "from_module": "bus2",
      "from_port": "output",
      "to_module": "m8",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": true,
      "direction": "top_to_bottom",
      "annotations": []
    },
    {
      "id": "c10",
      "from_module": "bus1",
      "from_port": "output",
      "to_module": "m9",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": true,
      "direction": "top_to_bottom",
      "annotations": []
    },
    {
      "id": "c11",
      "from_module": "bus1",
      "from_port": "output",
      "to_module": "m10",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": true,
      "direction": "top_to_bottom",
      "annotations": []
    },
    {
      "id": "c12",
      "from_module": "bus1",
      "from_port": "output",
      "to_module": "bus2",
      "to_port": "PBUS",
      "signal_name": "PBUS",
      "width": "",
      "is_bus": true,
      "direction": "right_to_left",
      "annotations": [
        "PBUS"
      ]
    },
    {
      "id": "c13",
      "from_module": "bus2",
      "from_port": "output",
      "to_module": "m11",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": []
    },
    {
      "id": "c14",
      "from_module": "bus2",
      "from_port": "output",
      "to_module": "m12",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": []
    },
    {
      "id": "c15",
      "from_module": "bus2",
      "from_port": "output",
      "to_module": "m13",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": []
    },
    {
      "id": "c16",
      "from_module": "bus2",
      "from_port": "output",
      "to_module": "m14",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": []
    },
    {
      "id": "c17",
      "from_module": "bus2",
      "from_port": "output",
      "to_module": "m15",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": []
    },
    {
      "id": "c18",
      "from_module": "bus2",
      "from_port": "output",
      "to_module": "m16",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": []
    },
    {
      "id": "c19",
      "from_module": "bus2",
      "from_port": "output",
      "to_module": "m17",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": []
    },
    {
      "id": "c20",
      "from_module": "bus2",
      "from_port": "output",
      "to_module": "m18",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": []
    },
    {
      "id": "c21",
      "from_module": "bus2",
      "from_port": "output",
      "to_module": "m19",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": []
    },
    {
      "id": "c22",
      "from_module": "bus2",
      "from_port": "output",
      "to_module": "m20",
      "to_port": "input",
      "signal_name": "",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": []
    },
    {
      "id": "c23",
      "from_module": "m11",
      "from_port": "output",
      "to_module": "external",
      "to_port": "CPU_interrupts",
      "signal_name": "To CPU interrupts",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": [
        "To CPU interrupts"
      ]
    },
    {
      "id": "c24",
      "from_module": "m13",
      "from_port": "output",
      "to_module": "external",
      "to_port": "SPI",
      "signal_name": "SPI",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": [
        "SPI"
      ]
    },
    {
      "id": "c25",
      "from_module": "m14",
      "from_port": "output",
      "to_module": "external",
      "to_port": "NAND",
      "signal_name": "NAND",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": [
        "NAND"
      ]
    },
    {
      "id": "c26",
      "from_module": "m15",
      "from_port": "output",
      "to_module": "external",
      "to_port": "UART",
      "signal_name": "UART",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": [
        "UART"
      ]
    },
    {
      "id": "c27",
      "from_module": "m16",
      "from_port": "output",
      "to_module": "external",
      "to_port": "GPIO_LED",
      "signal_name": "GPIO/LED",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": [
        "GPIO",
        "/LED"
      ]
    },
    {
      "id": "c28",
      "from_module": "m17",
      "from_port": "output",
      "to_module": "external",
      "to_port": "I2C",
      "signal_name": "I2C",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": [
        "I2C"
      ]
    },
    {
      "id": "c29",
      "from_module": "m18",
      "from_port": "output",
      "to_module": "external",
      "to_port": "I2S",
      "signal_name": "I2S",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": [
        "I2S"
      ]
    },
    {
      "id": "c30",
      "from_module": "m19",
      "from_port": "output",
      "to_module": "external",
      "to_port": "PCM",
      "signal_name": "PCM",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": [
        "PCM"
      ]
    },
    {
      "id": "c31",
      "from_module": "m20",
      "from_port": "output",
      "to_module": "external",
      "to_port": "SPDIF",
      "signal_name": "SPDIF",
      "width": "",
      "is_bus": false,
      "direction": "left_to_right",
      "annotations": [
        "SPDIF"
      ]
    },
    {
      "id": "c32",
      "from_module": "m5",
      "from_port": "output",
      "to_module": "external",
      "to_port": "SD",
      "signal_name": "SD",
      "width": "",
      "is_bus": false,
      "direction": "top_to_bottom",
      "annotations": [
        "SD"
      ]
    },
    {
      "id": "c33",
      "from_module": "m6",
      "from_port": "output",
      "to_module": "external",
      "to_port": "Host",
      "signal_name": "Host",
      "width": "",
      "is_bus": false,
      "direction": "top_to_bottom",
      "annotations": [
        "Host"
      ]
    },
    {
      "id": "c34",
      "from_module": "m7",
      "from_port": "output",
      "to_module": "external",
      "to_port": "PCIe_x3",
      "signal_name": "PCIe x 3",
      "width": "",
      "is_bus": false,
      "direction": "top_to_bottom",
      "annotations": [
        "PCIe x 3"
      ]
    },
    {
      "id": "c35",
      "from_module": "m9",
      "from_port": "output",
      "to_module": "external",
      "to_port": "RGMII_TMII_MII",
      "signal_name": "RGMII/TMII/MII x1",
      "width": "",
      "is_bus": false,
      "direction": "top_to_bottom",
      "annotations": [
        "RGMII",
        "TMII/MII x1"
      ]
    }
  ],
  "ports": [
    {
      "name": "EJTAG",
      "direction": "input",
      "width": "",
      "connected_to": "m1",
      "description": "EJTAG debug interface for MIPS processor"
    },
    {
      "name": "16-Bit DDR2/DDR3",
      "direction": "output",
      "width": "16",
      "connected_to": "m3",
      "description": "External DDR2/DDR3 memory interface"
    },
    {
      "name": "SD",
      "direction": "output",
      "width": "",
      "connected_to": "m5",
      "description": "SD card interface"
    },
    {
      "name": "Host",
      "direction": "output",
      "width": "",
      "connected_to": "m6",
      "description": "USB host interface"
    },
    {
      "name": "PCIe x 3",
      "direction": "output",
      "width": "",
      "connected_to": "m7",
      "description": "PCIe 3-lane interface"
    },
    {
      "name": "RJ45 x5",
      "direction": "output",
      "width": "",
      "connected_to": "m9",
      "description": "5-port Ethernet RJ45 connectors"
    },
    {
      "name": "RGMII/TMII/MII x1",
      "direction": "output",
      "width": "",
      "connected_to": "m9",
      "description": "Ethernet MAC interface"
    },
    {
      "name": "To CPU interrupts",
      "direction": "output",
      "width": "",
      "connected_to": "m11",
      "description": "Interrupt signals to CPU"
    },
    {
      "name": "SPI",
      "direction": "output",
      "width": "",
      "connected_to": "m13",
      "description": "SPI external interface"
    },
    {
      "name": "NAND",
      "direction": "output",
      "width": "",
      "connected_to": "m14",
      "description": "NAND flash interface"
    },
    {
      "name": "UART",
      "direction": "output",
      "width": "",
      "connected_to": "m15",
      "description": "UART serial interface"
    },
    {
      "name": "GPIO/LED",
      "direction": "output",
      "width": "",
      "connected_to": "m16",
      "description": "GPIO and LED control"
    },
    {
      "name": "I2C",
      "direction": "output",
      "width": "",
      "connected_to": "m17",
      "description": "I2C bus interface"
    },
    {
      "name": "I2S",
      "direction": "output",
      "width": "",
      "connected_to": "m18",
      "description": "I2S audio interface"
    },
    {
      "name": "PCM",
      "direction": "output",
      "width": "",
      "connected_to": "m19",
      "description": "PCM audio interface"
    },
    {
      "name": "SPDIF",
      "direction": "output",
      "width": "",
      "connected_to": "m20",
      "description": "SPDIF digital audio interface"
    }
  ],
  "annotations": [
    {
      "type": "label",
      "content": "EJTAG",
      "location": "Top left, above MIPS processor",
      "related_to": "m1"
    },
    {
      "type": "label",
      "content": "16-Bit DDR2/DDR3",
      "location": "Top center, above DRAM Controller",
      "related_to": "m3"
    },
    {
      "type": "label",
      "content": "OCP_IF",
      "location": "Between MIPS processor and OCP Bridge",
      "related_to": "c1"
    },
    {
      "type": "label",
      "content": "RBUS",
      "location": "Main horizontal bus in center",
      "related_to": "bus1"
    },
    {
      "type": "label",
      "content": "PBUS",
      "location": "Secondary horizontal bus below RBUS",
      "related_to": "bus2"
    },
    {
      "type": "label",
      "content": "5-Port EPHY",
      "location": "Inside Switch module",
      "related_to": "m9"
    },
    {
      "type": "label",
      "content": "RJ45 x5",
      "location": "Below Switch module",
      "related_to": "m9"
    },
    {
      "type": "label",
      "content": "RGMII/TMII/MII x1",
      "location": "Below Switch module",
      "related_to": "m9"
    },
    {
      "type": "label",
      "content": "PCIe x 3",
      "location": "Below PCIe PHY module",
      "related_to": "m7"
    },
    {
      "type": "label",
      "content": "To CPU interrupts",
      "location": "Right side, from INTC",
      "related_to": "m11"
    },
    {
      "type": "text",
      "content": "32/32 KB I/D-Cache per Core",
      "location": "Inside MIPS processor block",
      "related_to": "m1"
    },
    {
      "type": "text",
      "content": "(880 MHz)",
      "location": "Inside MIPS processor block",
      "related_to": "m1"
    }
  ],
  "hierarchy": {
    "top_level_module": "SoC System",
    "submodules": [
      "MIPS 1004Kc",
      "OCP Bridge",
      "DRAM Controller",
      "Arbiter",
      "SDXC",
      "USB 3.0/2.0 PHY",
      "PCIe 1.1 PHY",
      "Crypto Engine",
      "Switch (5GE)",
      "GDMA/HSDMA",
      "INTC",
      "Timer",
      "SPI",
      "NFI",
      "UARTLx3",
      "GPIO",
      "I2C",
      "I2S",
      "PCM x4",
      "SPDIF"
    ],
    "interfaces": [
      "OCP",
      "RBUS",
      "PBUS",
      "DDR2/DDR3",
      "USB 3.0/2.0",
      "PCIe 1.1",
      "RGMII/TMII/MII",
      "SPI",
      "I2C",
      "I2S",
      "UART",
      "SPDIF"
    ]
  },
  "metadata": {
    "total_modules": 22,
    "total_connections": 35,
    "complexity": "complex",
    "protocol_hints": [
      "OCP (Open Core Protocol)",
      "DDR2/DDR3",
      "USB 3.0/2.0",
      "PCIe 1.1",
      "RGMII",
      "TMII",
      "MII",
      "SPI",
      "I2C",
      "I2S",
      "UART",
      "SPDIF",
      "EJTAG"
    ],
    "ambiguities": [
      "Exact bit widths of RBUS and PBUS not specified",
      "Clock and reset distribution not shown",
      "Exact connection topology between arbiter and all RBUS masters unclear",
      "Bidirectional nature of some peripheral connections not explicitly shown"
    ]
  }
}